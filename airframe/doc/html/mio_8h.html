<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- BEGIN NETSA-DOXYGEN HEADER -->
<head>
<title>Airframe Application Utilities</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<!-- All pages must include the following stylesheets -->
<link rel="stylesheet" type="text/css" href="doxygen.css">
<link rel="stylesheet" type="text/css" href="tabs.css">
<link rel="stylesheet" type="text/css" href="tools.css">
</head>       
<!--#include virtual="/tools-page-header.shtml"-->

<body>
<div class="tool-header">
<div class="bigtext">Airframe Application Utilities</div>
libairframe 0.7.2 API documentation
</div>
<!-- END NETSA-DOXYGEN HEADER -->

<div class="page-content">   
<br />
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a></div>
<h1>mio.h File Reference</h1>Airframe Multiple I/O Support. <a href="#_details">More...</a>
<p>
<code>#include &lt;airframe/autoinc.h&gt;</code><br>

<p>
<a href="mio_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___m_i_o_source.html">_MIOSource</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">MIO data source structure.  <a href="struct___m_i_o_source.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___m_i_o_sink.html">_MIOSink</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">MIO data sink structure.  <a href="struct___m_i_o_sink.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___m_i_o_app_driver.html">_MIOAppDriver</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">An MIO application driver.  <a href="struct___m_i_o_app_driver.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a0" doxytag="mio.h::MIO_ERROR_DOMAIN"></a>
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mio_8h.html#a0">MIO_ERROR_DOMAIN</a>&nbsp;&nbsp;&nbsp;g_quark_from_string("airframeMIO")</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">GError domain for MIO errors. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mio_8h.html#a1">MIO_ERROR_MULTIPLE</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Multiple errors occurred.  <a href="#a1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mio_8h.html#a2">MIO_ERROR_ARGUMENT</a>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Illegal argument.  <a href="#a2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a3" doxytag="mio.h::MIO_ERROR_IO"></a>
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mio_8h.html#a3">MIO_ERROR_IO</a>&nbsp;&nbsp;&nbsp;3</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">An unspecified I/O error occurred. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a4" doxytag="mio.h::MIO_ERROR_CONN"></a>
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mio_8h.html#a4">MIO_ERROR_CONN</a>&nbsp;&nbsp;&nbsp;4</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A connection error occurred; a connection could not be opened or bound. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a5" doxytag="mio.h::MIO_ERROR_NOINPUT"></a>
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mio_8h.html#a5">MIO_ERROR_NOINPUT</a>&nbsp;&nbsp;&nbsp;5</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">No input is presently available. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a6" doxytag="mio.h::MIO_ERROR_LOCK"></a>
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mio_8h.html#a6">MIO_ERROR_LOCK</a>&nbsp;&nbsp;&nbsp;6</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Output path is locked. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a7" doxytag="mio.h::MIO_ERROR_IMPL"></a>
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mio_8h.html#a7">MIO_ERROR_IMPL</a>&nbsp;&nbsp;&nbsp;7</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Requested function is not implemented in this build of Airframe. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mio_8h.html#a8">MIO_F_CTL_ERROR</a>&nbsp;&nbsp;&nbsp;0x00000001</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">MIO dispatch function control flag signaling a non-retryable error.  <a href="#a8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mio_8h.html#a9">MIO_F_CTL_TRANSIENT</a>&nbsp;&nbsp;&nbsp;0x00000002</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">MIO dispatch function control flag signaling a transient error.  <a href="#a9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mio_8h.html#a10">MIO_F_CTL_SOURCECLOSE</a>&nbsp;&nbsp;&nbsp;0x00000004</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">MIO dispatch function control flag signaling that the source should be closed.  <a href="#a10"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mio_8h.html#a11">MIO_F_CTL_SINKCLOSE</a>&nbsp;&nbsp;&nbsp;0x00000008</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">MIO dispatch function control flag signaling that the sink should be closed.  <a href="#a11"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mio_8h.html#a12">MIO_F_CTL_TERMINATE</a>&nbsp;&nbsp;&nbsp;0x00000010</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">MIO dispatch function control flag signaling that the application should terminate.  <a href="#a12"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mio_8h.html#a13">MIO_F_CTL_POLL</a>&nbsp;&nbsp;&nbsp;0x00000020</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">MIO dispatch function control flag signaling that no input is available from the source, and the source cannot block waiting for new input.  <a href="#a13"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mio_8h.html#a14">MIO_F_CTL_MASK</a>&nbsp;&nbsp;&nbsp;0x0000003f</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">MIO dispatch function control flag mask.  <a href="#a14"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mio_8h.html#a15">MIO_F_OPT_LOCK</a>&nbsp;&nbsp;&nbsp;0x00008000</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">MIO option flag signaling locking should be used if available.  <a href="#a15"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mio_8h.html#a16">MIO_F_OPT_DAEMON</a>&nbsp;&nbsp;&nbsp;0x00004000</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">MIO option flag signaling sources should operate in daemon mode.  <a href="#a16"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mio_8h.html#a17">MIO_F_OPT_SINKLINK</a>&nbsp;&nbsp;&nbsp;0x00002000</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">MIO option flag signaling one-to-one mapping between source and sink.  <a href="#a17"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mio_8h.html#a18">MIO_F_OPT_MASK</a>&nbsp;&nbsp;&nbsp;0x0000ffc0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">MIO option flag mask.  <a href="#a18"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mio_8h.html#a19">mio_fd</a>(_s_)&nbsp;&nbsp;&nbsp;GPOINTER_TO_INT((_s_)-&gt;vsp)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convenience macro to get a source or sink's currently open file descriptor.  <a href="#a19"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mio_8h.html#a20">mio_fp</a>(_s_)&nbsp;&nbsp;&nbsp;((FILE *)(_s_)-&gt;vsp)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convenience macro to get a source or sink's currently open file pointer.  <a href="#a20"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a21" doxytag="mio.h::MIOType"></a>
typedef enum <a class="el" href="mio_8h.html#a47">_MIOType</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mio_8h.html#a21">MIOType</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enumeration of low-level I/O object types MIOSource and MIOSink can manage. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="struct___m_i_o_source.html">_MIOSource</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mio_8h.html#a22">MIOSource</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">An MIO data source.  <a href="#a22"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="struct___m_i_o_sink.html">_MIOSink</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mio_8h.html#a23">MIOSink</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">An MIO data sink.  <a href="#a23"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef gboolean(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mio_8h.html#a24">MIOSourceFn</a> )(<a class="el" href="struct___m_i_o_source.html">MIOSource</a> *source, uint32_t *flags, GError **err)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">An MIO source open/close function.  <a href="#a24"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef gboolean(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mio_8h.html#a25">MIOAppSourceFn</a> )(<a class="el" href="struct___m_i_o_source.html">MIOSource</a> *source, void *vctx, uint32_t *flags, GError **err)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">An MIO source application-layer open/close function.  <a href="#a25"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mio_8h.html#a26">MIOSourceFreeFn</a> )(<a class="el" href="struct___m_i_o_source.html">MIOSource</a> *source)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">An MIO source free function.  <a href="#a26"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef gboolean(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mio_8h.html#a27">MIOSinkFn</a> )(<a class="el" href="struct___m_i_o_source.html">MIOSource</a> *source, <a class="el" href="struct___m_i_o_sink.html">MIOSink</a> *sink, uint32_t *flags, GError **err)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">An MIO sink open/close function.  <a href="#a27"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mio_8h.html#a28">MIOSinkFreeFn</a> )(<a class="el" href="struct___m_i_o_sink.html">MIOSink</a> *sink)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">An MIO sink free function.  <a href="#a28"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef gboolean(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mio_8h.html#a29">MIOAppFn</a> )(<a class="el" href="struct___m_i_o_source.html">MIOSource</a> *source, <a class="el" href="struct___m_i_o_sink.html">MIOSink</a> *sink, void *vctx, uint32_t *flags, GError **err)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">An MIO sink application-layer open/close and record process function.  <a href="#a29"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="struct___m_i_o_app_driver.html">_MIOAppDriver</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mio_8h.html#a30">MIOAppDriver</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">An MIO application driver.  <a href="#a30"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mio_8h.html#a47">_MIOType</a> { <br>
&nbsp;&nbsp;<a class="el" href="mio_8h.html#a47a31">MIO_T_ANY</a> =  0, 
<a class="el" href="mio_8h.html#a47a32">MIO_T_APP</a> =  1, 
<a class="el" href="mio_8h.html#a47a33">MIO_T_NULL</a> =  2, 
<a class="el" href="mio_8h.html#a47a34">MIO_T_FD</a> =  3, 
<br>
&nbsp;&nbsp;<a class="el" href="mio_8h.html#a47a35">MIO_T_FP</a> =  4, 
<a class="el" href="mio_8h.html#a47a36">MIO_T_PCAP</a> =  5, 
<a class="el" href="mio_8h.html#a47a37">MIO_T_SOCK_DGRAM</a> =  6, 
<a class="el" href="mio_8h.html#a47a38">MIO_T_SOCK_STREAM</a> =  7, 
<br>
&nbsp;&nbsp;<a class="el" href="mio_8h.html#a47a39">MIO_T_SINKARRAY</a> =  8, 
<a class="el" href="mio_8h.html#a47a40">MIO_T_SOCK_TLS</a> =  9
<br>
 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enumeration of low-level I/O object types MIOSource and MIOSink can manage.  <a href="#a47">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mio_8h.html#a41">mio_dispatch</a> (<a class="el" href="struct___m_i_o_source.html">MIOSource</a> *source, <a class="el" href="struct___m_i_o_sink.html">MIOSink</a> *sink, <a class="el" href="struct___m_i_o_app_driver.html">MIOAppDriver</a> *app_drv, void *vctx, uint32_t *flags, GError **err)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">MIO primary dispatch function.  <a href="#a41"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mio_8h.html#a42">mio_dispatch_loop</a> (<a class="el" href="struct___m_i_o_source.html">MIOSource</a> *source, <a class="el" href="struct___m_i_o_sink.html">MIOSink</a> *sink, <a class="el" href="struct___m_i_o_app_driver.html">MIOAppDriver</a> *app_drv, void *vctx, uint32_t flags, uint32_t polltime, uint32_t retrybase, uint32_t retrymax)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">MIO dispatch loop convenience function.  <a href="#a42"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mio_8h.html#a43">mio_source_free</a> (<a class="el" href="struct___m_i_o_source.html">MIOSource</a> *source)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Frees an MIOSource by calling its source_free function.  <a href="#a43"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mio_8h.html#a44">mio_sink_free</a> (<a class="el" href="struct___m_i_o_sink.html">MIOSink</a> *sink)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Frees an MIOSink by calling its sink_free function.  <a href="#a44"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mio_8h.html#a45">mio_source_init_app</a> (<a class="el" href="struct___m_i_o_source.html">MIOSource</a> *source, const char *spec, <a class="el" href="mio_8h.html#a21">MIOType</a> vsp_type, void *cfg, GError **err)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize an application-specific source.  <a href="#a45"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mio_8h.html#a46">mio_sink_init_app</a> (<a class="el" href="struct___m_i_o_sink.html">MIOSink</a> *sink, const char *spec, <a class="el" href="mio_8h.html#a21">MIOType</a> vsp_type, void *cfg, GError **err)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize an application-specific sink.  <a href="#a46"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Airframe Multiple I/O Support. 
<p>
Supplies a framework for building applications that perform record-oriented processing on a wide variety of low-level input and output objects.<p>
MIO applications read their input from an MIOSource and write it to an MIOSink. Sources and sinks are iterable; in other words, an application will generally have a single MIOSource which describes all the input it will read during its run, and which at any given time has a current source pointer, referring to the currently open file, socket, etc. MIOSource does not manage reading of bytes or records from the current source pointer; it simply hands this pointer (a file descriptor, file pointer, etc.) to the application and allows the application to handle its own low-level I/O. MIOSink works similarly.<p>
Once an application has a source and a sink, it creates an MIOAppDriver containing five functions - one each to open and close the source, one each to open and close the sink, and one to process a single record from source to sink. These functions are called by <a class="el" href="mio_8h.html#a41">mio_dispatch()</a>, which is in turn called repeatedly by <a class="el" href="mio_8h.html#a42">mio_dispatch_loop()</a> to process all the records in each source described by the MIOSource. Application drivers may set flags (MIO_F_CTL constants) to control the closing of sinks and sources, the reporting of errors, and termination of the application.<p>
Applications may create their own sources and sinks using the various initialization functions available in each source or sink's header file; however, it is more common to use the facilities in <a class="el" href="mio__config_8h.html">mio_config.h</a> to allow the user to configure input and output.<hr><h2>Define Documentation</h2>
<a class="anchor" name="a2" doxytag="mio.h::MIO_ERROR_ARGUMENT"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define MIO_ERROR_ARGUMENT&nbsp;&nbsp;&nbsp;2          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Illegal argument. 
<p>
The user supplied an illegal argument combination, or referred to an inaccessible or nonexistant path.     </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="mio.h::MIO_ERROR_MULTIPLE"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define MIO_ERROR_MULTIPLE&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Multiple errors occurred. 
<p>
Usually occurs when attempt to clean up after an error fails itself. See the error message for detailed information.     </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="mio.h::MIO_F_CTL_ERROR"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define MIO_F_CTL_ERROR&nbsp;&nbsp;&nbsp;0x00000001          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
MIO dispatch function control flag signaling a non-retryable error. 
<p>
This simply serves to differentiate error conditions from "normal" exception conditions. Set by low-level next, application open, or application process functions. These functions must also set MIO_F_SOURCECLOSE or MIO_F_SINKCLOSE if the source or sink must also be closed. Should be checked by the <a class="el" href="mio_8h.html#a41">mio_dispatch()</a> caller to detect non-retryable errors.     </td>
  </tr>
</table>
<a class="anchor" name="a14" doxytag="mio.h::MIO_F_CTL_MASK"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define MIO_F_CTL_MASK&nbsp;&nbsp;&nbsp;0x0000003f          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
MIO dispatch function control flag mask. 
<p>
<a class="el" href="mio_8h.html#a41">mio_dispatch()</a> clears each flag in this mask at the start of the call. Flags in this mask have a special meaning to <a class="el" href="mio_8h.html#a41">mio_dispatch()</a>, and may not be used by applications for their own purposes.     </td>
  </tr>
</table>
<a class="anchor" name="a13" doxytag="mio.h::MIO_F_CTL_POLL"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define MIO_F_CTL_POLL&nbsp;&nbsp;&nbsp;0x00000020          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
MIO dispatch function control flag signaling that no input is available from the source, and the source cannot block waiting for new input. 
<p>
<a class="el" href="mio_8h.html#a41">mio_dispatch()</a> caller should wait and try again. Set by low-level next function.     </td>
  </tr>
</table>
<a class="anchor" name="a11" doxytag="mio.h::MIO_F_CTL_SINKCLOSE"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define MIO_F_CTL_SINKCLOSE&nbsp;&nbsp;&nbsp;0x00000008          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
MIO dispatch function control flag signaling that the sink should be closed. 
<p>
Set on error by low-level next, application open, or application process functions, by <a class="el" href="mio_8h.html#a41">mio_dispatch()</a> if MIO_F_CTL_SOURCECLOSE and MIO_F_OPT_SINKLINK are set, or on other close condition (e.g. rotation delay timeout) by application process function. Causes <a class="el" href="mio_8h.html#a41">mio_dispatch()</a> to close the sink.     </td>
  </tr>
</table>
<a class="anchor" name="a10" doxytag="mio.h::MIO_F_CTL_SOURCECLOSE"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define MIO_F_CTL_SOURCECLOSE&nbsp;&nbsp;&nbsp;0x00000004          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
MIO dispatch function control flag signaling that the source should be closed. 
<p>
Set on error by low-level next, application open, or application process functions, or on EOF or other close condition by application process function. Causes <a class="el" href="mio_8h.html#a41">mio_dispatch()</a> to close the source.     </td>
  </tr>
</table>
<a class="anchor" name="a12" doxytag="mio.h::MIO_F_CTL_TERMINATE"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define MIO_F_CTL_TERMINATE&nbsp;&nbsp;&nbsp;0x00000010          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
MIO dispatch function control flag signaling that the application should terminate. 
<p>
Set by low-level next, application open, or application process functions.     </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="mio.h::MIO_F_CTL_TRANSIENT"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define MIO_F_CTL_TRANSIENT&nbsp;&nbsp;&nbsp;0x00000002          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
MIO dispatch function control flag signaling a transient error. 
<p>
Transient errors can be retried; Applications may begin retry backoff on transient errors to avoid using resources with frequent retry. Set by low-level next, application open, or application process functions. These functions must also set MIO_F_SOURCECLOSE or MIO_F_SINKCLOSE if the source or sink must also be closed. Should by checked by <a class="el" href="mio_8h.html#a41">mio_dispatch()</a> caller to detect transient errors.     </td>
  </tr>
</table>
<a class="anchor" name="a16" doxytag="mio.h::MIO_F_OPT_DAEMON"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define MIO_F_OPT_DAEMON&nbsp;&nbsp;&nbsp;0x00004000          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
MIO option flag signaling sources should operate in daemon mode. 
<p>
Without this option, MIO low-level next will fail and set MIO_F_CTL_TERMINATE once all the available data covered by the input specifier has been processed once. With this option, the input specifier will be evaluated continually, and MIO itself will never terminate the application with MIO_F_CTL_TERMINATE; if no input is available, mio_dispatch will fail and set MIO_F_CTL_POLL instead. Set by <a class="el" href="mio__config_8h.html#a26">mio_config_source()</a> if <a class="el" href="daeconfig_8h.html#a4">daec_is_daemon()</a> is TRUE.     </td>
  </tr>
</table>
<a class="anchor" name="a15" doxytag="mio.h::MIO_F_OPT_LOCK"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define MIO_F_OPT_LOCK&nbsp;&nbsp;&nbsp;0x00008000          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
MIO option flag signaling locking should be used if available. 
<p>
Locking is used to protect concurrent access to sources and sinks by multiple MIO-based applications. Set by <a class="el" href="mio_8h.html#a41">mio_dispatch()</a> caller, used by low-level source and sink next and close functions. Ignored by sources and sinks for which locking is not available or semantically meaningful; callers should be aware that setting this flag does NOT guarantee exclusive access among processes when using such sources and sinks. Set by <a class="el" href="mio__config_8h.html#a26">mio_config_source()</a> if --lock is present.     </td>
  </tr>
</table>
<a class="anchor" name="a18" doxytag="mio.h::MIO_F_OPT_MASK"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define MIO_F_OPT_MASK&nbsp;&nbsp;&nbsp;0x0000ffc0          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
MIO option flag mask. 
<p>
Flags in this mask are set by the application and undisturbed by dispatch operations. Flags in this mask have a special meaning to <a class="el" href="mio_8h.html#a41">mio_dispatch()</a>, and may not be used by applications for their own purposes.     </td>
  </tr>
</table>
<a class="anchor" name="a17" doxytag="mio.h::MIO_F_OPT_SINKLINK"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define MIO_F_OPT_SINKLINK&nbsp;&nbsp;&nbsp;0x00002000          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
MIO option flag signaling one-to-one mapping between source and sink. 
<p>
If this option is set, <a class="el" href="mio_8h.html#a41">mio_dispatch()</a> will set MIO_F_CTL_SINKCLOSE if MIO_F_CTL_SOURCECLOSE is set. Applications should set this flag if they are not managing multiple sink closure in their process function, and each input logically maps to a single output; however, <a class="el" href="mio__config_8h.html#a27">mio_config_sink()</a> may override this option for single file output.     </td>
  </tr>
</table>
<a class="anchor" name="a19" doxytag="mio.h::mio_fd"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define mio_fd          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">_s_&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;GPOINTER_TO_INT((_s_)-&gt;vsp)</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Convenience macro to get a source or sink's currently open file descriptor. 
<p>
Valid for MIO_T_FD and MIO_T_SOCK_* types.     </td>
  </tr>
</table>
<a class="anchor" name="a20" doxytag="mio.h::mio_fp"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define mio_fp          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">_s_&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;((FILE *)(_s_)-&gt;vsp)</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Convenience macro to get a source or sink's currently open file pointer. 
<p>
Only valid if the source or sink's vsp_type is MIO_T_FP.     </td>
  </tr>
</table>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="a30" doxytag="mio.h::MIOAppDriver"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">typedef struct <a class="el" href="struct___m_i_o_app_driver.html">_MIOAppDriver</a>  <a class="el" href="struct___m_i_o_app_driver.html">MIOAppDriver</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
An MIO application driver. 
<p>
Applications should pass one of these to <a class="el" href="mio_8h.html#a41">mio_dispatch()</a>; the functions are then called in the appropriate order by the <a class="el" href="mio_8h.html#a41">mio_dispatch()</a> run loop.     </td>
  </tr>
</table>
<a class="anchor" name="a29" doxytag="mio.h::MIOAppFn"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">typedef gboolean(* <a class="el" href="mio_8h.html#a29">MIOAppFn</a>)(<a class="el" href="struct___m_i_o_source.html">MIOSource</a> *source, <a class="el" href="struct___m_i_o_sink.html">MIOSink</a> *sink, void *vctx, uint32_t *flags, GError **err)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
An MIO sink application-layer open/close and record process function. 
<p>
Passed into <a class="el" href="mio_8h.html#a41">mio_dispatch()</a> via an MIOAppDriver.     </td>
  </tr>
</table>
<a class="anchor" name="a25" doxytag="mio.h::MIOAppSourceFn"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">typedef gboolean(* <a class="el" href="mio_8h.html#a25">MIOAppSourceFn</a>)(<a class="el" href="struct___m_i_o_source.html">MIOSource</a> *source, void *vctx, uint32_t *flags, GError **err)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
An MIO source application-layer open/close function. 
<p>
Passed into <a class="el" href="mio_8h.html#a41">mio_dispatch()</a> via an MIOAppDriver.     </td>
  </tr>
</table>
<a class="anchor" name="a23" doxytag="mio.h::MIOSink"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">typedef struct <a class="el" href="struct___m_i_o_sink.html">_MIOSink</a> <a class="el" href="struct___m_i_o_sink.html">MIOSink</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
An MIO data sink. 
<p>
Represents a single, iterable, logical sink for data, such as a directory of output files, or an active socket. Create an MIOSink with one of the various mio_sink_init_*() functions, or with <a class="el" href="mio__config_8h.html#a27">mio_config_sink()</a>.     </td>
  </tr>
</table>
<a class="anchor" name="a27" doxytag="mio.h::MIOSinkFn"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">typedef gboolean(* <a class="el" href="mio_8h.html#a27">MIOSinkFn</a>)(<a class="el" href="struct___m_i_o_source.html">MIOSource</a> *source, <a class="el" href="struct___m_i_o_sink.html">MIOSink</a> *sink, uint32_t *flags, GError **err)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
An MIO sink open/close function. 
<p>
Used internally by MIOSink.     </td>
  </tr>
</table>
<a class="anchor" name="a28" doxytag="mio.h::MIOSinkFreeFn"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">typedef void(* <a class="el" href="mio_8h.html#a28">MIOSinkFreeFn</a>)(<a class="el" href="struct___m_i_o_sink.html">MIOSink</a> *sink)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
An MIO sink free function. 
<p>
Used internally by MIOSink.     </td>
  </tr>
</table>
<a class="anchor" name="a22" doxytag="mio.h::MIOSource"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">typedef struct <a class="el" href="struct___m_i_o_source.html">_MIOSource</a> <a class="el" href="struct___m_i_o_source.html">MIOSource</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
An MIO data source. 
<p>
Represents a single, iterable, logical source of data, such as a directory of input files, or a passive socket. Create an MIOSource with one of the various mio_source_init_*() functions, or with <a class="el" href="mio__config_8h.html#a26">mio_config_source()</a>.     </td>
  </tr>
</table>
<a class="anchor" name="a24" doxytag="mio.h::MIOSourceFn"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">typedef gboolean(* <a class="el" href="mio_8h.html#a24">MIOSourceFn</a>)(<a class="el" href="struct___m_i_o_source.html">MIOSource</a> *source, uint32_t *flags, GError **err)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
An MIO source open/close function. 
<p>
Used internally by MIOSource.     </td>
  </tr>
</table>
<a class="anchor" name="a26" doxytag="mio.h::MIOSourceFreeFn"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">typedef void(* <a class="el" href="mio_8h.html#a26">MIOSourceFreeFn</a>)(<a class="el" href="struct___m_i_o_source.html">MIOSource</a> *source)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
An MIO source free function. 
<p>
Used internally by MIOSource.     </td>
  </tr>
</table>
<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="a47" doxytag="mio.h::_MIOType"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">enum <a class="el" href="mio_8h.html#a47">_MIOType</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Enumeration of low-level I/O object types MIOSource and MIOSink can manage. 
<p>
<dl compact><dt><b>Enumeration values: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="a47a31" doxytag="MIO_T_ANY"></a>MIO_T_ANY</em>&nbsp;</td><td>
As an argument to a source init function, directs the source to use its default vsp_type. 
<p>
Not valid as an actual vsp_type. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="a47a32" doxytag="MIO_T_APP"></a>MIO_T_APP</em>&nbsp;</td><td>
Source or sink pointer is managed by the application driver; used to keep the MIO dispatch loop but with no separation between application and low-level I/O (e.g., for AirDBC intergation). </td></tr>
<tr><td valign="top"><em><a class="anchor" name="a47a33" doxytag="MIO_T_NULL"></a>MIO_T_NULL</em>&nbsp;</td><td>
Source or sink pointer is NULL. 
<p>
Used to suppress actual opening of sources, in cases where the application open/close routines must do so (e.g., external APIs which require file paths, not file descriptors or pointers. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="a47a34" doxytag="MIO_T_FD"></a>MIO_T_FD</em>&nbsp;</td><td>
Source or sink pointer is a non-socket file descriptor. 
<p>
Used for unbuffered I/O, when an external API will provide its own buffering. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="a47a35" doxytag="MIO_T_FP"></a>MIO_T_FP</em>&nbsp;</td><td>
Source or sink pointer is a FILE pointer. 
<p>
Used for buffered I/O, especially for files. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="a47a36" doxytag="MIO_T_PCAP"></a>MIO_T_PCAP</em>&nbsp;</td><td>
Source pointer is a pointer to a pcap_t libpcap context. 
<p>
Used for packet capture from live interface or pcap dumpfile. Not valid on sinks; MIO does not support dumpfile output natively. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="a47a37" doxytag="MIO_T_SOCK_DGRAM"></a>MIO_T_SOCK_DGRAM</em>&nbsp;</td><td>
Source or sink pointer is a connect()ed datagram socket. 
<p>
Use for reading or writing UDP packets. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="a47a38" doxytag="MIO_T_SOCK_STREAM"></a>MIO_T_SOCK_STREAM</em>&nbsp;</td><td>
Source or sink pointer is a connect()ed stream socket. 
<p>
Use for reading or writing TCP streams. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="a47a39" doxytag="MIO_T_SINKARRAY"></a>MIO_T_SINKARRAY</em>&nbsp;</td><td>
Sink pointer is a pointer to an array of MIOSinks. 
<p>
Use the mio_smc and mio_smn convenience macros in <a class="el" href="mio__sink__multi_8h.html">mio_sink_multi.h</a> to access this array. Used by <a class="el" href="mio__sink__multi_8h.html">mio_sink_multi.h</a> for output fanout support. Not valid on sources, for obvious reasons. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="a47a40" doxytag="MIO_T_SOCK_TLS"></a>MIO_T_SOCK_TLS</em>&nbsp;</td><td>
Source or sink pointer is a pointer to an SSL socket. 
<p>
Used for TLSv1 or DTLS via OpenSSL. </td></tr>
</table>
</dl>
    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a41" doxytag="mio.h::mio_dispatch"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">gboolean mio_dispatch           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct___m_i_o_source.html">MIOSource</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>source</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="struct___m_i_o_sink.html">MIOSink</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>sink</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="struct___m_i_o_app_driver.html">MIOAppDriver</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>app_drv</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>vctx</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>uint32_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>GError **&nbsp;</td>
          <td class="mdname" nowrap> <em>err</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
MIO primary dispatch function. 
<p>
Processes a single record. Ensures that source and sink are available before processing the record, and ensures that source and sink are properly torn down afterward as necessary. Applications should probably use <a class="el" href="mio_8h.html#a42">mio_dispatch_loop()</a> instead, as it provides for such niceties as polling and retry.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>source</em>&nbsp;</td><td>An MIOSource to get data from. <a class="el" href="mio_8h.html#a41">mio_dispatch()</a> may cause this source to close if it is open, and may cause this source to iterate if not. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sink</em>&nbsp;</td><td>An MIOSink to send data to. <a class="el" href="mio_8h.html#a41">mio_dispatch()</a> may cause this sink to close if it is open, and may cause this sink to iterate if not. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>app_drv</em>&nbsp;</td><td>An MIOAppDriver containing application functions to call source and sink open and close, and for actual record processing. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>vctx</em>&nbsp;</td><td>Application-level context passed to each of the functions in the MIOAppDriver. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>Pointer to MIO dispatch flags (a bitwise union of MIO_F_* constants). These flags will be modified by <a class="el" href="mio_8h.html#a41">mio_dispatch()</a>; check the MIO_F_CTL_* flags after calling mio_dispatch to determine whether an error was transient, whether there was any input available, whether the application should terminate, and whether the source or sink were closed. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>err</em>&nbsp;</td><td>A GError error description (out) </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>TRUE if a record was successfully processed, FALSE otherwise (setting error and flags). </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a42" doxytag="mio.h::mio_dispatch_loop"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">gboolean mio_dispatch_loop           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct___m_i_o_source.html">MIOSource</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>source</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="struct___m_i_o_sink.html">MIOSink</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>sink</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="struct___m_i_o_app_driver.html">MIOAppDriver</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>app_drv</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>vctx</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>uint32_t&nbsp;</td>
          <td class="mdname" nowrap> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>uint32_t&nbsp;</td>
          <td class="mdname" nowrap> <em>polltime</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>uint32_t&nbsp;</td>
          <td class="mdname" nowrap> <em>retrybase</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>uint32_t&nbsp;</td>
          <td class="mdname" nowrap> <em>retrymax</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
MIO dispatch loop convenience function. 
<p>
Calls <a class="el" href="mio_8h.html#a41">mio_dispatch()</a> repeatedly, logging any errors that occur as warnings, until mio_dispatch sets MIO_F_CTL_TERMINATE to terminate the application. Automatically sleeps on no input. Automatically backs off on transient errors.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>source</em>&nbsp;</td><td>An MIOSource to get data from. <a class="el" href="mio_8h.html#a41">mio_dispatch()</a> may cause this source to close if it is open, and may cause this source to iterate if not. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sink</em>&nbsp;</td><td>An MIOSink to send data to. <a class="el" href="mio_8h.html#a41">mio_dispatch()</a> may cause this sink to close if it is open, and may cause this sink to iterate if not. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>app_drv</em>&nbsp;</td><td>An MIOAppDriver containing application functions to call source and sink open and close, and for actual record processing. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>vctx</em>&nbsp;</td><td>Application-level context passed to each of the functions in the MIOAppDriver. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>Pointer to MIO dispatch flags (a bitwise union of MIO_F_* constants). These flags will be modified by <a class="el" href="mio_8h.html#a41">mio_dispatch()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>polltime</em>&nbsp;</td><td>time, in seconds, to delay on no input. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>retrybase</em>&nbsp;</td><td>time, in seconds, to delay on the first transient error. Each subsequent transient error doubles the delay up to the maximum. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>retrymax</em>&nbsp;</td><td></td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a44" doxytag="mio.h::mio_sink_free"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void mio_sink_free           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct___m_i_o_sink.html">MIOSink</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>sink</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Frees an MIOSink by calling its sink_free function. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sink</em>&nbsp;</td><td>MIOSink to free </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a46" doxytag="mio.h::mio_sink_init_app"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">gboolean mio_sink_init_app           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct___m_i_o_sink.html">MIOSink</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>sink</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>spec</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="mio_8h.html#a21">MIOType</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>vsp_type</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>cfg</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>GError **&nbsp;</td>
          <td class="mdname" nowrap> <em>err</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initialize an application-specific sink. 
<p>
The MIO facility will not do any low-level open or close; dispatch on this source will require the application driver to handle all the details of sink management.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sink</em>&nbsp;</td><td>pointer to MIOSink to initialize. This MIOSink will be overwritten. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>spec</em>&nbsp;</td><td>input specifier to initialize MIOSink with. The application driver will use this to do its own low-level open. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>vsp_type</em>&nbsp;</td><td>requested sink pointer type, or MIO_T_ANY for default. Only the default, MIO_T_APP, is supported. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cfg</em>&nbsp;</td><td>pointer to configuration context. The application driver will use this to do its own low-level sink configuration. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>err</em>&nbsp;</td><td>An error description pointer. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>TRUE if the MIOSink was successfully initialized. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a43" doxytag="mio.h::mio_source_free"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void mio_source_free           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct___m_i_o_source.html">MIOSource</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>source</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Frees an MIOSource by calling its source_free function. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>source</em>&nbsp;</td><td>MIOSource to free </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a45" doxytag="mio.h::mio_source_init_app"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">gboolean mio_source_init_app           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct___m_i_o_source.html">MIOSource</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>source</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>spec</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="mio_8h.html#a21">MIOType</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>vsp_type</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>cfg</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>GError **&nbsp;</td>
          <td class="mdname" nowrap> <em>err</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initialize an application-specific source. 
<p>
The MIO facility will not do any low-level open or close; dispatch on this source will require the application driver to handle all the details of source management.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>source</em>&nbsp;</td><td>pointer to MIOSource to initialize. This MIOSource will be overwritten. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>spec</em>&nbsp;</td><td>input specifier to initialize MIOSource with. The application driver will use this to do its own low-level open. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>vsp_type</em>&nbsp;</td><td>requested source pointer type, or MIO_T_ANY for default. Only the default, MIO_T_APP, is supported. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cfg</em>&nbsp;</td><td>pointer to configuration context. The application driver will use this to do its own low-level source configuration. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>err</em>&nbsp;</td><td>An error description pointer. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>TRUE if the MIOSource was successfully initialized. </dd></dl>
    </td>
  </tr>
</table>
</div>

<!-- BEGIN NETSA-TOOLS FOOTER -->
<div class="page-footer">
<!-- INCLUDE THE FOOTER CONTENT -->

<div class="copyright">
This library is part of the 
<a href="http://tools.netsa.cert.org">NetSA Security Suite</a>,                                                      
developed by the <a href="http://www.cert.org">CERT</a>
<a href="http://www.cert.org/netsa">NetSA</a> group<br>
at the <a href="http://www.sei.cmu.edu">Software Engineering Institute</a>   
at <a href="http://www.cmu.edu">Carnegie Mellon University</a>.
<br>
<br>
&copy; 2006-2008 Carnegie Mellon University </div>
</div>
<!-- END NETSA-TOOLS FOOTER -->       

</body>
</html>   
